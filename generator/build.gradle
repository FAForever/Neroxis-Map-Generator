plugins {
    id 'application'
    id 'com.github.johnrengelman.shadow' version '7.1.2'
    id("com.adarshr.test-logger") version "4.0.0"
}

application {
    mainClass = 'com.faforever.neroxis.generator.MapGenerator'
}

dependencies {
    implementation project(":shared")
    implementation("commons-codec:commons-codec:1.16.1")

    annotationProcessor("info.picocli:picocli-codegen:4.7.6")
}

testlogger {
    showFullStackTraces = false
    showPassed = false
    showStandardStreams = false
}

shadowJar {
    getArchiveFileName().set("NeroxisGen_${generatorVersion}.jar")
    manifest {
        attributes 'Main-Class': 'com.faforever.neroxis.map.generator.MapGenerator',
                "Implementation-Version": generatorVersion,
                "Impletementation-Title": "Neroxis Map Generator"
    }
    excludes += "**/source_images/*"
    duplicatesStrategy = DuplicatesStrategy.WARN
}